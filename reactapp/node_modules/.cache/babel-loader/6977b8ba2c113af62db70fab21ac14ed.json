{"ast":null,"code":"var _jsxFileName = \"/home/endurance21/tray/reactapp/src/views/login/index.js\";\nimport React from 'react';\nimport Styles from './main.module.css';\nimport { Redirect } from 'react-router-dom';\n\nvar axios = require('axios');\n\nvar path = \"http://3.135.217.56:3005\";\nexport default class Login extends React.Component {\n  constructor() {\n    super();\n\n    this.login = () => {\n      var url = path + \"/login\";\n      var data = {\n        'username': this.refs.username.value,\n        'Password': this.refs.password.value\n      };\n      axios.post(url, data).then(res => {\n        console.log(res);\n\n        if (res.data == 0) {\n          alert(\"incorrect username or password\");\n        } else {\n          var user = {\n            username: res.data.user,\n            loggedIn: res.data.loggedIn,\n            userId: res.data.userId\n          };\n          localStorage.setItem('user', JSON.stringify(user));\n          this.props.isLoggedIn(1);\n        }\n      });\n    };\n\n    this.register = () => {\n      this.setState({\n        register: React.createElement(Redirect, {\n          to: \"/register\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        })\n      });\n    };\n\n    this.state = {\n      register: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: Styles.input,\n      for: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \" USERNAME  \"), React.createElement(\"input\", {\n      ref: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: Styles.input,\n      for: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \" PASSWORD\"), React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: Styles.button,\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"sign up here \", React.createElement(\"button\", {\n      className: Styles.button,\n      onClick: this.register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Register\")), this.state.register);\n  }\n\n}","map":{"version":3,"sources":["/home/endurance21/tray/reactapp/src/views/login/index.js"],"names":["React","Styles","Redirect","axios","require","path","Login","Component","constructor","login","url","data","refs","username","value","password","post","then","res","console","log","alert","user","loggedIn","userId","localStorage","setItem","JSON","stringify","props","isLoggedIn","register","setState","state","render","input","button"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,QAAR,QAAwB,kBAAxB;;AACA,IAAKC,KAAK,GAAKC,OAAO,CAAC,OAAD,CAAtB;;AACA,IAAIC,IAAI,GAAG,0BAAX;AACA,eAAe,MAAMC,KAAN,SAAoBN,KAAK,CAACO,SAA1B,CAAmC;AAC9CC,EAAAA,WAAW,GAAE;AACT;;AADS,SAMbC,KANa,GAML,MAAI;AACR,UAAIC,GAAG,GAAGL,IAAI,GAAC,QAAf;AACA,UAAIM,IAAI,GAAI;AACR,oBAAW,KAAKC,IAAL,CAAUC,QAAV,CAAmBC,KADtB;AAER,oBAAW,KAAKF,IAAL,CAAUG,QAAV,CAAmBD;AAFtB,OAAZ;AAMAX,MAAAA,KAAK,CAACa,IAAN,CAAWN,GAAX,EAAeC,IAAf,EAAqBM,IAArB,CAA2BC,GAAD,IAAO;AAC7BC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAGA,GAAG,CAACP,IAAJ,IAAY,CAAf,EAAiB;AACbU,UAAAA,KAAK,CAAC,gCAAD,CAAL;AACH,SAFD,MAEK;AACD,cAAIC,IAAI,GAAG;AACPT,YAAAA,QAAQ,EAAGK,GAAG,CAACP,IAAJ,CAASW,IADb;AAEPC,YAAAA,QAAQ,EAAGL,GAAG,CAACP,IAAJ,CAASY,QAFb;AAGPC,YAAAA,MAAM,EAAGN,GAAG,CAACP,IAAJ,CAASa;AAHX,WAAX;AAKIC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAA5B;AACF,eAAKO,KAAL,CAAWC,UAAX,CAAsB,CAAtB;AACL;AACJ,OAbD;AAeH,KA7BY;;AAAA,SA8BbC,QA9Ba,GA8BF,MAAI;AACb,WAAKC,QAAL,CAAc;AACVD,QAAAA,QAAQ,EAAC,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADC,OAAd;AAGD,KAlCY;;AAET,SAAKE,KAAL,GAAY;AACRF,MAAAA,QAAQ,EAAC;AADD,KAAZ;AAGH;;AA8BDG,EAAAA,MAAM,GAAE;AAEP,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEM;AAAO,MAAA,SAAS,EAAIjC,MAAM,CAACkC,KAA3B;AAAkC,MAAA,GAAG,EAAE,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFN,EAE2E;AAAO,MAAA,GAAG,EAAE,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAF3E,EAGM;AAAO,MAAA,SAAS,EAAGlC,MAAM,CAACkC,KAA1B;AAAiC,MAAA,GAAG,EAAE,UAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHN,EAGwE;AAAO,MAAA,IAAI,EAAE,UAAb;AAAwB,MAAA,GAAG,EAAG,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHxE,EAIM;AAAQ,MAAA,SAAS,EAAIlC,MAAM,CAACmC,MAA5B;AAAoC,MAAA,OAAO,EAAI,KAAK3B,KAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJN,EAMM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAkB;AAAQ,MAAA,SAAS,EAAIR,MAAM,CAACmC,MAA5B;AAAoC,MAAA,OAAO,EAAG,KAAKL,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAlB,CANN,EAQO,KAAKE,KAAL,CAAWF,QARlB,CADJ;AAaA;;AAnD6C","sourcesContent":["import React from 'react'\nimport Styles from './main.module.css'\nimport {Redirect } from 'react-router-dom'\nvar  axios  =  require('axios');\nvar path = \"http://3.135.217.56:3005\"\nexport default class Login extends React.Component{\n    constructor(){\n        super();\n        this.state ={\n            register:''\n        }\n    }\n    login = ()=>{\n        var url = path+\"/login\";\n        var data =  {\n            'username':this.refs.username.value,\n            'Password':this.refs.password.value\n        };\n\n\n        axios.post(url,data).then((res)=>{\n            console.log(res)\n            if(res.data == 0){\n                alert(\"incorrect username or password\");\n            }else{\n                var user = {\n                    username : res.data.user,\n                    loggedIn : res.data.loggedIn,\n                    userId : res.data.userId\n                }\n                    localStorage.setItem('user',JSON.stringify(user));\n                  this.props.isLoggedIn(1);  \n            }\n        });\n\n    }\n    register = ()=>{\n      this.setState({\n          register:<Redirect to=\"/register\"/>\n      })\n    }\n    render(){\n        \n     return (\n         <div>\n            \n               <label className = {Styles.input} for ='username'> USERNAME  </label><input ref= \"username\"></input>\n               <label className ={Styles.input} for ='password'> PASSWORD</label><input type =\"password\" ref = \"password\"></input>\n               <button className = {Styles.button} onClick = {this.login}>Login</button>\n\n               <div>sign up here <button className = {Styles.button} onClick ={this.register}>Register</button>\n               </div>\n               {this.state.register}\n\n         </div>\n     )\n    }\n}"]},"metadata":{},"sourceType":"module"}