{"ast":null,"code":"var _jsxFileName = \"/home/endurance21/tray/reactapp/src/views/orders/index.js\";\nimport React from 'react';\nimport Styles from './main.module.css';\nimport ChooseCanteen from '../canteens/chooseCanteen';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Item from '../items/index';\n\nvar axios = require('axios');\n\nvar canteen_id = '';\nvar order_name;\nexport default class OrderPage extends React.Component {\n  constructor() {\n    super();\n\n    this.setCanteenId = value => {\n      canteen_id = value;\n      console.log(value);\n      this.setState({\n        canteenId: value\n      });\n      console.log(this.state.canteenId); //   console.log(value)\n    };\n\n    this.createOrder = () => {\n      console.log(canteen_id);\n      let user = JSON.parse(localStorage.getItem('user'));\n      let groups = JSON.parse(localStorage.getItem('groups'));\n      let url = \"http://localhost:3005/api/orders/create\"; // console.log(user, groups);\n\n      let data = {\n        order_name: this.state.orderName,\n        user_id: user.userId,\n        group_code: groups.groupcode,\n        canteen_id: canteen_id,\n        item_id: 0\n      };\n      console.log(data);\n      axios.post(url, data).then(res => {\n        console.log(res.body);\n      });\n      this.fetchItems();\n    };\n\n    this.setOrderName = value => {\n      order_name = value;\n      console.log(order_name);\n      this.setState({\n        orderName: value\n      });\n    };\n\n    this.fetchItems = () => {\n      let url = \"http://localhost:3005/api/canteens/\" + \"rajeev_item_list\";\n      let data = {\n        canteen_id: canteen_id + 1\n      };\n      axios.get(url).then(res => {\n        console.log(res.body);\n      });\n    };\n\n    this.state = {\n      canteenId: '',\n      orderName: ''\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/orderPage\",\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(ChooseCanteen, {\n      setCanteenId: this.setCanteenId,\n      setOrderName: this.setOrderName,\n      createOrder: this.createOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), this.state.canteenId ? this.state.canteenId : '', this.state.orderName ? this.state.orderName : ''), React.createElement(Route, {\n      path: \"/orderPage/order\",\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.props.groupCode ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"YOUR GROUP CODE IS : \", this.props.groupCode) : '', React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \" your ORDER NAME IS : \", order_name), React.createElement(\"div\", {\n      className: Styles.itemList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \":::::::CHOOSE YOUR ITEMS ::::::::\", React.createElement(Item, {\n      itemId: \"1\",\n      price: \"50rs\",\n      description: \"pizza\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(Item, {\n      itemId: \"2\",\n      price: \"100rs\",\n      description: \"burger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(Item, {\n      itemId: \"3\",\n      price: \"20rs\",\n      description: \"asdf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Item, {\n      itemId: \"4\",\n      price: \"500rs\",\n      description: \"akjasf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: Styles.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"SUBMIT MY ORDER\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/endurance21/tray/reactapp/src/views/orders/index.js"],"names":["React","Styles","ChooseCanteen","BrowserRouter","Router","Route","Item","axios","require","canteen_id","order_name","OrderPage","Component","constructor","setCanteenId","value","console","log","setState","canteenId","state","createOrder","user","JSON","parse","localStorage","getItem","groups","url","data","orderName","user_id","userId","group_code","groupcode","item_id","post","then","res","body","fetchItems","setOrderName","get","render","props","groupCode","itemList","submit"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Styles from './main.module.css'\nimport ChooseCanteen from '../canteens/chooseCanteen';\nimport {BrowserRouter as Router  , Route} from 'react-router-dom'\nimport Item from '../items/index'\nvar axios  = require('axios')\n\nvar canteen_id = '' ;\nvar order_name;\nexport default class OrderPage extends React.Component{\n    constructor(){\n        super();\n\n        this.state = {\n            canteenId:'',\n            orderName:''\n        }\n    }\n\n    setCanteenId = (value)=>{\n\n        canteen_id = value;\n        console.log(value)\n        this.setState({\n            canteenId:value\n        })\n\n        console.log(this.state.canteenId)\n\n    //   console.log(value)\n    }\n\n    createOrder = ()=>{\n        console.log(canteen_id)\n        let user  = JSON.parse(localStorage.getItem('user'));\n        let groups = JSON.parse(localStorage.getItem('groups'));\n        let url  = \"http://localhost:3005/api/orders/create\";\n        // console.log(user, groups);\n        \n        let data = {\n                order_name:this.state.orderName,\n                user_id:user.userId,\n                group_code:groups.groupcode,\n                canteen_id:canteen_id,\n                item_id:0\n        }\n\n        console.log(data)\n        axios.post(url, data).then((res)=>{\n               console.log(res.body)\n        })\n        this.fetchItems();\n    }\n\n    setOrderName = (value)=>{\n        order_name = value;\n        console.log(order_name)\n\n        this.setState({\n            orderName:value\n        })\n    }\n\n\n    fetchItems =()=>{\n        let url  = \"http://localhost:3005/api/canteens/\" + \"rajeev_item_list\";\n        let data = {\n            canteen_id:(canteen_id+1)\n        }\n        axios.get(url).then((res)=>{\n            console.log(res.body)\n        })\n    }\n\n    render(){\n        console.log(this.props)\n        return (\n            <div>\n            <Router>\n                <Route path=\"/orderPage\" exact>\n                <ChooseCanteen setCanteenId = {this.setCanteenId} setOrderName = {this.setOrderName}  createOrder = {this.createOrder}></ChooseCanteen>\n                { (this.state.canteenId)?this.state.canteenId:''}\n                { (this.state.orderName)?this.state.orderName:''}\n\n            </Route>\n            <Route path = \"/orderPage/order\" exact>\n                  {/* {this.fetchItems()} */}\n               { (this.props.groupCode)?(<div>YOUR GROUP CODE IS : {this.props.groupCode}</div>):''}\n               \n                <div> your ORDER NAME IS : {order_name}</div>\n\n                <div className={Styles.itemList}>\n                    :::::::CHOOSE YOUR ITEMS ::::::::\n                  <Item itemId = \"1\" price = \"50rs\" description = \"pizza\" ></Item>\n                  <Item itemId = \"2\" price = \"100rs\" description = \"burger\" ></Item>\n                  <Item itemId = \"3\" price = \"20rs\" description = \"asdf\" ></Item>\n                  <Item itemId = \"4\" price = \"500rs\" description = \"akjasf\" ></Item>\n               </div>\n               <button className ={Styles.submit}>SUBMIT MY ORDER</button>\n\n            </Route>\n            </Router>\n            \n            </div>\n        )\n    } \n}"]},"metadata":{},"sourceType":"module"}