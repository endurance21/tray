{"ast":null,"code":"var _jsxFileName = \"/home/endurance21/tray/reactapp/src/views/orders/index2.js\";\nimport React from 'react';\nimport Styles from './main.module.css';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Item from '../items/index';\n\nvar axios = require('axios');\n\nvar canteen_id = '';\nvar order_name = '';\nvar object = [];\nvar order_hash = '';\nvar order_id = '';\nexport default class OrderPage2 extends React.Component {\n  constructor(props) {\n    super();\n\n    this.update = (update, itemId) => {\n      object[itemId - 1].quantity = update + 1;\n      console.log(object);\n    };\n\n    this.fetchItems = () => {\n      let url = \"http://localhost:3005/api/canteens/\" + \"rajeev_item_list\";\n      let data = {\n        canteen_id: canteen_id + 1\n      };\n      axios.get(url).then(res => {\n        for (let i = 0; i < res.data.length; i++) {\n          object.push({\n            item_id: res.data[i].item_id,\n            item_name: res.data[i].item_name,\n            item_price: res.data[i].item_price,\n            quantity: 0\n          });\n          this.setState({\n            items: object.map((object, index) => React.createElement(Item, {\n              itemId: object.item_id,\n              price: object.item_price,\n              description: object.item_name,\n              update: this.update,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 41\n              },\n              __self: this\n            }))\n          });\n        }\n      });\n    };\n\n    this.submit = () => {\n      this.setState({\n        myorders: object.map((item, index) => React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \" \", item.item_name, \" :\", item.quantity))\n      });\n      let url = \"http://localhost:3005/api/orders/additem\";\n      let user = JSON.parse(localStorage.getItem('user')); //  this.getOrderId();\n\n      let url2 = \"http://localhost:3005/api/order/orderId\";\n      let data = {\n        order_name: order_name\n      };\n      let url3 = \"http://localhost:3005/api/orders/delete//'\";\n      axios.post(url2, data).then(res => {\n        order_id = res.data[0].order_id;\n        object.map((item, index) => {\n          let data = {\n            order_id: order_id,\n            user_id: user.userId,\n            canteen_id: canteen_id,\n            item_id: index + 1,\n            quantity: item.quantity\n          };\n          axios.post(url, data).then(res => {\n            console.log(res.data);\n          });\n        });\n      }); // this.getOrderId();\n    };\n\n    this.state = {\n      myorders: '',\n      items: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \" your ORDER NAME IS : \", this.props.order_name), React.createElement(\"div\", {\n      className: Styles.myorders,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Final Order Will APPEAR HERE\", this.state.myorders), React.createElement(\"div\", {\n      className: Styles.itemList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \":::::::CHOOSE YOUR ITEMS ::::::::\", React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.state.items)), React.createElement(\"button\", {\n      className: Styles.submit,\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"SUBMIT MY ORDER\"));\n  }\n\n}","map":{"version":3,"sources":["/home/endurance21/tray/reactapp/src/views/orders/index2.js"],"names":["React","Styles","BrowserRouter","Router","Route","Item","axios","require","canteen_id","order_name","object","order_hash","order_id","OrderPage2","Component","constructor","props","update","itemId","quantity","console","log","fetchItems","url","data","get","then","res","i","length","push","item_id","item_name","item_price","setState","items","map","index","submit","myorders","item","user","JSON","parse","localStorage","getItem","url2","url3","post","user_id","userId","state","render","itemList"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Styles from './main.module.css'\nimport {BrowserRouter as Router  , Route} from 'react-router-dom'\nimport Item from '../items/index'\nvar axios  = require('axios')\nvar canteen_id = '' ;\nvar order_name = '';\nvar object = [];\nvar order_hash = ''\nvar order_id = ''\nexport default class OrderPage2 extends React.Component{\n    constructor(props){\n        super();\n        this.state= {\n            myorders:'',\n            items:''\n        }\n    }\n    update = (update, itemId)=>{\n    \n        object[itemId-1].quantity = update + 1 ;\n\n        console.log(object)\n}\n    fetchItems =()=>{\n        let url  = \"http://localhost:3005/api/canteens/\" + \"rajeev_item_list\";\n        let data = {\n            canteen_id:(canteen_id+1)\n        }\n        axios.get(url).then((res)=>{\n            for (let i = 0; i < res.data.length; i++) {\n                object.push({\n                    item_id : res.data[i].item_id ,\n                    item_name : res.data[i].item_name,\n                    item_price : res.data[i].item_price,\n                    quantity:0\n                });\n               \n                this.setState({\n                    items: object.map((object,index)=>(\n                        <Item itemId = {object.item_id} price = {object.item_price} description = {object.item_name}  update = {this.update}></Item>\n                    ))\n                })\n            }\n        })\n    }\n    submit  = ()=>{\n\n\n        this.setState({\n            myorders:object.map((item,index)=>(\n                <li> {item.item_name} :{item.quantity}</li>\n            ))\n        });\n        let url  = \"http://localhost:3005/api/orders/additem\" ;\n        let user =  JSON.parse(localStorage.getItem('user'));\n       //  this.getOrderId();\n        let url2  = \"http://localhost:3005/api/order/orderId\";\n        let data = {\n          order_name:order_name\n\n        }\n        let url3 = \"http://localhost:3005/api/orders/delete//'\"\n\n        axios.post(url2, data).then((res)=>{\n                 order_id  = res.data[0].order_id;\n\n                 object.map((item, index)=>{\n                   let data = {\n                       order_id:order_id,\n                       user_id:user.userId,\n                       canteen_id:canteen_id,\n                       item_id:(index+1),\n                       quantity:item.quantity\n                   } ;\n                   axios.post(url,data).then((res)=>{\n                       console.log(res.data);\n                   })\n                })\n       \n\n        })\n       \n       // this.getOrderId();\n       \n   }\n\n\n    render(){\n        return (\n\n            <div>\n\n               \n                <div> your ORDER NAME IS : {this.props.order_name}</div>\n                <div className={Styles.myorders}> \n                Final Order Will APPEAR HERE\n                   {this.state.myorders}\n               </div>\n                <div className={Styles.itemList}>\n                    :::::::CHOOSE YOUR ITEMS ::::::::\n                   <ul>\n                       {this.state.items}\n                   </ul>\n                  \n               </div>\n\n   \n               <button className ={Styles.submit} onClick= {this.submit}>SUBMIT MY ORDER</button>\n       </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}